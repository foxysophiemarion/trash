(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();function getHash(){if(location.hash)return location.hash.replace("#","")}let bodyLockStatus=!0,bodyUnlock=(t=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{e.forEach(o=>{o.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},t),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},t)}},bodyLock=(t=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]"),o=window.innerWidth-document.body.offsetWidth+"px";e.forEach(s=>{s.style.paddingRight=o}),document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},t)}};const gotoBlock=(t,e=!1,o=500,s=0)=>{const n=document.querySelector(t);if(n){let l="",i=0;if(e){l="header.header";const r=document.querySelector(l);r.classList.contains("--header-scroll")?i=r.offsetHeight:(r.style.cssText="transition-duration: 0s;",r.classList.add("--header-scroll"),i=r.offsetHeight,r.classList.remove("--header-scroll"),setTimeout(()=>{r.style.cssText=""},0))}document.documentElement.hasAttribute("data-fls-menu-open")&&(bodyUnlock(),document.documentElement.removeAttribute("data-fls-menu-open"));let a=n.getBoundingClientRect().top+scrollY;a=i?a-i:a,a=s?a-s:a,window.scrollTo({top:a,behavior:"smooth"})}};class Popup{constructor(e){let o={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...o,...e,classes:{...o.classes,...e?.classes},hashSettings:{...o.hashSettings,...e?.hashSettings},on:{...o.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",function(e){const o=e.target.closest(`[${this.options.attributeOpenButton}]`);if(o){if(e.preventDefault(),this._dataValue=o.getAttribute(this.options.attributeOpenButton)?o.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=o.getAttribute(this.options.youtubeAttribute)?o.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=o),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(e.target.closest(`[${this.options.attributeCloseButton}]`)||!e.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){e.preventDefault(),this.close();return}}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&e.which==27&&e.code==="Escape"&&this.isOpen){e.preventDefault(),this.close();return}if(this.options.focusCatch&&e.which==9&&this.isOpen){this._focusCatch(e);return}}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.location.hash&&this._openToHash())}open(e){if(bodyLockStatus&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),e&&typeof e=="string"&&e.trim()!==""&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const o=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(o){const s=`https://www.youtube.com/embed/${o}?rel=0&showinfo=0&autoplay=1`,n=document.createElement("iframe"),l=this.options.setAutoplayYoutube?"autoplay;":"";n.setAttribute("allowfullscreen",""),n.setAttribute("allow",`${l}; encrypted-media`),n.setAttribute("src",s),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(n)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||bodyLock(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(e){e&&typeof e=="string"&&e.trim()!==""&&(this.previousOpen.selector=e),!(!this.isOpen||!bodyLockStatus)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||bodyUnlock(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let e=window.location.hash.replace("#","");const o=document.querySelector(`[${this.options.attributeOpenButton}="${e}"]`);o&&(this.youTubeCode=o.getAttribute(this.options.youtubeAttribute)?o.getAttribute(this.options.youtubeAttribute):null),e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const o=this.targetOpen.element.querySelectorAll(this._focusEl),s=Array.prototype.slice.call(o),n=s.indexOf(document.activeElement);e.shiftKey&&n===0&&(s[s.length-1].focus(),e.preventDefault()),!e.shiftKey&&n===s.length-1&&(s[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new Popup({}));function headerScroll(){const t=document.querySelector("[data-fls-header-scroll]"),e=t.hasAttribute("data-fls-header-scroll-show"),o=t.dataset.flsHeaderScrollShow?t.dataset.flsHeaderScrollShow:500,s=t.dataset.flsHeaderScroll?t.dataset.flsHeaderScroll:1;let n=0,l;document.addEventListener("scroll",function(i){const a=window.scrollY;clearTimeout(l),a>=s?(t.classList.contains("--header-scroll")||t.classList.add("--header-scroll"),e&&(a>n?t.classList.contains("--header-show")&&t.classList.remove("--header-show"):t.classList.contains("--header-show")||t.classList.add("--header-show"),l=setTimeout(()=>{t.classList.contains("--header-show")||t.classList.add("--header-show")},o))):(t.classList.contains("--header-scroll")&&t.classList.remove("--header-scroll"),e&&t.classList.contains("--header-show")&&t.classList.remove("--header-show")),n=a<=0?0:a})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",headerScroll),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("cookie-notice"),e=document.querySelector(".cookie-accept");if(localStorage.getItem("cookiesAccepted")==="true"){t.close();return}t.showModal(),e.addEventListener("click",function(){localStorage.setItem("cookiesAccepted","true"),t.close()})});let formValidate={getErrors(t){let e=0,o=t.querySelectorAll("[required]");return o.length&&o.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(t){let e=0;return t.type==="email"?(t.value=t.value.replace(" ",""),this.emailTest(t)?(this.addError(t),this.removeSuccess(t),e++):(this.removeError(t),this.addSuccess(t))):t.type==="checkbox"&&!t.checked?(this.addError(t),this.removeSuccess(t),e++):t.name==="form[phone]"?t.value.replace(/[^\d]/g,"").slice(1).length!==10?(this.addError(t),this.removeSuccess(t),e++):(this.removeError(t),this.addSuccess(t)):t.value.trim()?(this.removeError(t),this.addSuccess(t)):(this.addError(t),this.removeSuccess(t),e++),e},addError(t){t.classList.add("--form-error"),t.parentElement.classList.add("--form-error");let e=t.parentElement.querySelector("[data-fls-form-error]");if(e&&t.parentElement.removeChild(e),t.tagName==="INPUT"||t.tagName==="TEXTAREA"){const o=t.dataset.flsFormErrtext||"\u041F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E";t.placeholder=o}t.type==="checkbox"&&t.dataset.flsFormErrtext&&t.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${t.dataset.flsFormErrtext}</div>`)},removeError(t){t.classList.remove("--form-error"),t.parentElement.classList.remove("--form-error");let e=t.parentElement.querySelector("[data-fls-form-error]");if(e&&t.parentElement.removeChild(e),t.tagName==="INPUT"||t.tagName==="TEXTAREA"){const o=t.dataset.originalPlaceholder||t.placeholder;t.dataset.originalPlaceholder||(t.dataset.originalPlaceholder=o),t.placeholder=o}},addSuccess(t){t.classList.add("--form-success"),t.parentElement.classList.add("--form-success")},removeSuccess(t){t.classList.remove("--form-success"),t.parentElement.classList.remove("--form-success")},formClean(t){t.reset(),setTimeout(()=>{let e=t.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const n=e[s];n.parentElement.classList.remove("--form-focus"),n.classList.remove("--form-focus"),n.dataset.originalPlaceholder&&(n.placeholder=n.dataset.originalPlaceholder),formValidate.removeError(n)}let o=t.querySelectorAll('input[type="checkbox"]');if(o.length&&o.forEach(s=>{s.checked=!1}),window.flsSelect){let s=t.querySelectorAll("select[data-fls-select]");s.length&&s.forEach(n=>{window.flsSelect.selectBuild(n)})}},0)},emailTest(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}};function formInit(){function t(){const o=document.forms;if(o.length)for(const l of o)l.hasAttribute("data-fls-form-novalidate")||l.setAttribute("novalidate",!0),l.addEventListener("submit",function(i){const a=i.target;s(a,i)}),l.addEventListener("reset",function(i){const a=i.target;formValidate.formClean(a)});async function s(l,i){if(formValidate.getErrors(l)===0)if(l.dataset.flsForm==="ajax"){i.preventDefault();const r=l.getAttribute("action")?l.getAttribute("action").trim():"#",c=l.getAttribute("method")?l.getAttribute("method").trim():"GET",d=new FormData(l);l.classList.add("--sending");const u=await fetch(r,{method:c,body:d});if(u.ok){let h=await u.json();l.classList.remove("--sending"),n(l,h)}else l.classList.remove("--sending")}else l.dataset.flsForm==="dev"&&(i.preventDefault(),n(l));else if(i.preventDefault(),l.querySelector(".--form-error")&&l.hasAttribute("data-fls-form-gotoerr")){const r=l.dataset.flsFormGotoerr?l.dataset.flsFormGotoerr:".--form-error";gotoBlock(r)}}function n(l,i=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:l}})),setTimeout(()=>{if(window.flsPopup){const a=l.dataset.flsFormPopup;a&&window.flsPopup.open(a)}},0),formValidate.formClean(l)}}function e(){document.body.addEventListener("focusin",function(o){const s=o.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.add("--form-focus"),s.parentElement.classList.add("--form-focus")),s.dataset.originalPlaceholder||(s.dataset.originalPlaceholder=s.placeholder),formValidate.removeError(s),s.hasAttribute("data-fls-form-validatenow")&&formValidate.validateInput(s))}),document.body.addEventListener("focusout",function(o){const s=o.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.remove("--form-focus"),s.parentElement.classList.remove("--form-focus")),s.hasAttribute("data-fls-form-validatenow")&&formValidate.validateInput(s))})}t(),e()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",formInit);function pageNavigation(){document.addEventListener("click",t),document.addEventListener("watcherCallback",t);function t(e){if(e.type==="click"){const o=e.target;if(o.closest("[data-fls-scrollto]")){const s=o.closest("[data-fls-scrollto]"),n=s.dataset.flsScrollto?s.dataset.flsScrollto:"",l=!!s.hasAttribute("data-fls-scrollto-header"),i=s.dataset.flsScrolltoSpeed?s.dataset.flsScrolltoSpeed:500,a=s.dataset.flsScrolltoTop?parseInt(s.dataset.flsScrolltoTop):0;if(window.fullpage){const r=document.querySelector(`${n}`).closest("[data-fls-fullpage-section]"),c=r?+r.dataset.flsFullpageId:null;c!==null&&(window.fullpage.switchingSection(c),document.documentElement.hasAttribute("data-fls-menu-open")&&(bodyUnlock(),document.documentElement.removeAttribute("data-fls-menu-open")))}else gotoBlock(n,l,i,a);e.preventDefault()}}else if(e.type==="watcherCallback"&&e.detail){const o=e.detail.entry,s=o.target;if(s.dataset.flsWatcher==="navigator"){document.querySelector("[data-fls-scrollto].--navigator-active");let n;if(s.id&&document.querySelector(`[data-fls-scrollto="#${s.id}"]`))n=document.querySelector(`[data-fls-scrollto="#${s.id}"]`);else if(s.classList.length)for(let l=0;l<s.classList.length;l++){const i=s.classList[l];if(document.querySelector(`[data-fls-scrollto=".${i}"]`)){n=document.querySelector(`[data-fls-scrollto=".${i}"]`);break}}o.isIntersecting?n&&n.classList.add("--navigator-active"):n&&n.classList.remove("--navigator-active")}}}if(getHash()){let e;document.querySelector(`#${getHash()}`)?e=`#${getHash()}`:document.querySelector(`.${getHash()}`)&&(e=`.${getHash()}`),e&&gotoBlock(e)}}document.querySelector("[data-fls-scrollto]")&&window.addEventListener("load",pageNavigation);
